{"ast":null,"code":"import _slicedToArray from\"C:/Users/meder/PycharmProjects/Datacamp_Efrei_20235/tuneteller/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{BrowserRouter as Router,Route,Link}from'react-router-dom';import{useParams,useLocation}from'react-router-dom';import home from\"../img/home_white.png\";import\"../styles/home.css\";import\"../styles/display.css\";import music from\"../img/music.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Display(){var listeDeChansons=sessionStorage.getItem('selected_songs');console.log(listeDeChansons);useEffect(function(){fetch('http://localhost:5000/display_recommendation',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({maVariable:listeDeChansons})}).then(function(response){if(response.ok){return response.json();}else{throw new Error(\"Réponse du serveur non valide\");}}).then(function(data){setSongData(data.recommendation);}).catch(function(error){console.error(\"Erreur lors de la requête :\",error);});});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),songData=_useState2[0],setSongData=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),numDisplayed=_useState4[0],setNumDisplayed=_useState4[1];var location=useLocation();var handleNumDisplayedChange=function handleNumDisplayedChange(event){setNumDisplayed(parseInt(event.target.value));};return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"stars\"}),/*#__PURE__*/_jsx(\"div\",{id:\"stars2\"}),/*#__PURE__*/_jsx(\"div\",{id:\"stars3\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",id:\"link\",children:/*#__PURE__*/_jsx(\"img\",{id:\"home\",src:home,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"title\",children:location.state}),/*#__PURE__*/_jsx(\"div\",{id:\"wrap\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"recommendation\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"numDisplayed\",id:\"contentDisplayed\",children:\"Number of Songs to Display: \"}),/*#__PURE__*/_jsxs(\"select\",{id:\"numDisplayed\",name:\"numDisplayed\",value:numDisplayed,onChange:handleNumDisplayedChange,children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100\"})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"recotxt\",children:\"Recommendation\"}),/*#__PURE__*/_jsx(\"div\",{id:\"reco-container\",children:songData.slice(0,numDisplayed).map(function(tsong){return/*#__PURE__*/_jsxs(\"div\",{id:\"song\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"music\",src:music,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"song-details\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"song-name\",children:tsong.song}),/*#__PURE__*/_jsx(\"p\",{id:\"artist-name\",children:tsong.singer})]})]},tsong.id);})})]})})]});}export default Display;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Route","Link","useParams","useLocation","home","music","jsx","_jsx","jsxs","_jsxs","Display","listeDeChansons","sessionStorage","getItem","console","log","fetch","method","headers","body","JSON","stringify","maVariable","then","response","ok","json","Error","data","setSongData","recommendation","catch","error","_useState","_useState2","_slicedToArray","songData","_useState3","_useState4","numDisplayed","setNumDisplayed","location","handleNumDisplayedChange","event","parseInt","target","value","className","children","id","to","src","alt","state","htmlFor","name","onChange","slice","map","tsong","song","singer"],"sources":["C:/Users/meder/PycharmProjects/Datacamp_Efrei_20235/tuneteller/src/components/display.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport home from \"../img/home_white.png\";\r\nimport \"../styles/home.css\";\r\nimport \"../styles/display.css\";\r\nimport music from \"../img/music.png\";\r\n\r\n\r\n\r\nfunction Display() {\r\n    const listeDeChansons = sessionStorage.getItem('selected_songs');\r\n    console.log(listeDeChansons);\r\n    useEffect(() => {\r\n        fetch('http://localhost:5000/display_recommendation', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({maVariable: listeDeChansons}),\r\n        })\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                } else {\r\n                    throw new Error(\"Réponse du serveur non valide\");\r\n                }\r\n            })\r\n            .then((data) => {\r\n                setSongData(data.recommendation);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Erreur lors de la requête :\", error);\r\n            });\r\n    });\r\n\r\n    const [songData, setSongData] = useState([]);\r\n    const [numDisplayed, setNumDisplayed] = useState(10);\r\n\r\n    const location = useLocation();\r\n\r\n    const handleNumDisplayedChange = (event) => {\r\n        setNumDisplayed(parseInt(event.target.value));\r\n    };\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div id=\"stars\"></div>\r\n      <div id=\"stars2\"></div>\r\n      <div id=\"stars3\"></div>\r\n      <Link to={\"/\"} id='link'>\r\n        <img id='home' src={home} alt=\"\" />\r\n      </Link>\r\n      <div id=\"title\">\r\n        {location.state}\r\n      </div>\r\n      <div id='wrap'>\r\n        <div id='recommendation'>\r\n            <div>\r\n                <label htmlFor=\"numDisplayed\" id=\"contentDisplayed\">Number of Songs to Display: </label>\r\n                <select id=\"numDisplayed\" name=\"numDisplayed\" value={numDisplayed} onChange={handleNumDisplayedChange}>\r\n                    <option value={10}>10</option>\r\n                    <option value={20}>20</option>\r\n                    <option value={50}>50</option>\r\n                    <option value={100}>100</option>\r\n                </select>\r\n            </div>\r\n            <div id='recotxt'>Recommendation</div>\r\n            <div id='reco-container'>\r\n            {songData.slice(0, numDisplayed).map((tsong) => (\r\n                <div id=\"song\" key={tsong.id}>\r\n                    <img id=\"music\" src={music} alt=\"\" />\r\n                    <div id=\"song-details\">\r\n                        <p id=\"song-name\">{tsong.song}</p>\r\n                        <p id=\"artist-name\">{tsong.singer}</p>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Display;"],"mappings":"oJAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,IAAI,KAAQ,kBAAkB,CACvE,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,IAAI,KAAM,uBAAuB,CACxC,MAAO,oBAAoB,CAC3B,MAAO,uBAAuB,CAC9B,MAAO,CAAAC,KAAK,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAIrC,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACf,GAAM,CAAAC,eAAe,CAAGC,cAAc,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAChEC,OAAO,CAACC,GAAG,CAACJ,eAAe,CAAC,CAC5Bf,SAAS,CAAC,UAAM,CACZoB,KAAK,CAAC,8CAA8C,CAAE,CAClDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACC,UAAU,CAAEX,eAAe,CAAC,CACtD,CAAC,CAAC,CACGY,IAAI,CAAC,SAACC,QAAQ,CAAK,CAChB,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACb,MAAO,CAAAD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC1B,CAAC,IAAM,CACH,KAAM,IAAI,CAAAC,KAAK,CAAC,+BAA+B,CAAC,CACpD,CACJ,CAAC,CAAC,CACDJ,IAAI,CAAC,SAACK,IAAI,CAAK,CACZC,WAAW,CAACD,IAAI,CAACE,cAAc,CAAC,CACpC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CACdlB,OAAO,CAACkB,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACvD,CAAC,CAAC,CACV,CAAC,CAAC,CAEF,IAAAC,SAAA,CAAgCpC,QAAQ,CAAC,EAAE,CAAC,CAAAqC,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEL,WAAW,CAAAK,UAAA,IAC5B,IAAAG,UAAA,CAAwCxC,QAAQ,CAAC,EAAE,CAAC,CAAAyC,UAAA,CAAAH,cAAA,CAAAE,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpC,GAAM,CAAAG,QAAQ,CAAGtC,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAuC,wBAAwB,CAAG,QAA3B,CAAAA,wBAAwBA,CAAIC,KAAK,CAAK,CACxCH,eAAe,CAACI,QAAQ,CAACD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CACjD,CAAC,CAEH,mBACErC,KAAA,QAAKsC,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBzC,IAAA,QAAK0C,EAAE,CAAC,OAAO,CAAM,CAAC,cACtB1C,IAAA,QAAK0C,EAAE,CAAC,QAAQ,CAAM,CAAC,cACvB1C,IAAA,QAAK0C,EAAE,CAAC,QAAQ,CAAM,CAAC,cACvB1C,IAAA,CAACN,IAAI,EAACiD,EAAE,CAAE,GAAI,CAACD,EAAE,CAAC,MAAM,CAAAD,QAAA,cACtBzC,IAAA,QAAK0C,EAAE,CAAC,MAAM,CAACE,GAAG,CAAE/C,IAAK,CAACgD,GAAG,CAAC,EAAE,CAAE,CAAC,CAC/B,CAAC,cACP7C,IAAA,QAAK0C,EAAE,CAAC,OAAO,CAAAD,QAAA,CACZP,QAAQ,CAACY,KAAK,CACZ,CAAC,cACN9C,IAAA,QAAK0C,EAAE,CAAC,MAAM,CAAAD,QAAA,cACZvC,KAAA,QAAKwC,EAAE,CAAC,gBAAgB,CAAAD,QAAA,eACpBvC,KAAA,QAAAuC,QAAA,eACIzC,IAAA,UAAO+C,OAAO,CAAC,cAAc,CAACL,EAAE,CAAC,kBAAkB,CAAAD,QAAA,CAAC,8BAA4B,CAAO,CAAC,cACxFvC,KAAA,WAAQwC,EAAE,CAAC,cAAc,CAACM,IAAI,CAAC,cAAc,CAACT,KAAK,CAAEP,YAAa,CAACiB,QAAQ,CAAEd,wBAAyB,CAAAM,QAAA,eAClGzC,IAAA,WAAQuC,KAAK,CAAE,EAAG,CAAAE,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BzC,IAAA,WAAQuC,KAAK,CAAE,EAAG,CAAAE,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BzC,IAAA,WAAQuC,KAAK,CAAE,EAAG,CAAAE,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BzC,IAAA,WAAQuC,KAAK,CAAE,GAAI,CAAAE,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC5B,CAAC,EACR,CAAC,cACNzC,IAAA,QAAK0C,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,gBAAc,CAAK,CAAC,cACtCzC,IAAA,QAAK0C,EAAE,CAAC,gBAAgB,CAAAD,QAAA,CACvBZ,QAAQ,CAACqB,KAAK,CAAC,CAAC,CAAElB,YAAY,CAAC,CAACmB,GAAG,CAAC,SAACC,KAAK,qBACvClD,KAAA,QAAKwC,EAAE,CAAC,MAAM,CAAAD,QAAA,eACVzC,IAAA,QAAK0C,EAAE,CAAC,OAAO,CAACE,GAAG,CAAE9C,KAAM,CAAC+C,GAAG,CAAC,EAAE,CAAE,CAAC,cACrC3C,KAAA,QAAKwC,EAAE,CAAC,cAAc,CAAAD,QAAA,eAClBzC,IAAA,MAAG0C,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAEW,KAAK,CAACC,IAAI,CAAI,CAAC,cAClCrD,IAAA,MAAG0C,EAAE,CAAC,aAAa,CAAAD,QAAA,CAAEW,KAAK,CAACE,MAAM,CAAI,CAAC,EACrC,CAAC,GALUF,KAAK,CAACV,EAMrB,CAAC,EACT,CAAC,CACG,CAAC,EACL,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAvC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}