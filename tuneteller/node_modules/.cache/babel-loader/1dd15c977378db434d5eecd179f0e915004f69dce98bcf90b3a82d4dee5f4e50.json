{"ast":null,"code":"import _toConsumableArray from\"C:/Users/meder/PycharmProjects/Datacamp_Efrei_20235/tuneteller/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/meder/PycharmProjects/Datacamp_Efrei_20235/tuneteller/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{BrowserRouter as Router,Route,Link}from'react-router-dom';import{useNavigate}from'react-router-dom';import home from\"../img/home_white.png\";import music from\"../img/music.png\";import\"../styles/home.css\";import\"../styles/select.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Select(){useEffect(function(){fetch('http://localhost:5000/select',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({maVariable:'ok'})}).then(function(response){if(response.ok){return response.json();}else{throw new Error(\"Réponse du serveur non valide\");}}).then(function(data){setFetchedData(data);// Assurez-vous d'avoir une variable d'état pour stocker les données\nsetSongData(data.variable);}).catch(function(error){console.error(\"Erreur lors de la requête :\",error);});});// Assurez-vous d'avoir une variable d'état pour stocker les données\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),fetchedData=_useState2[0],setFetchedData=_useState2[1];// Vous pouvez maintenant utiliser \"fetchedData\" dans votre composant\nconsole.log(fetchedData.variable);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedSongs=_useState4[0],setSelectedSongs=_useState4[1];var navigate=useNavigate();var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),songData=_useState6[0],setSongData=_useState6[1];var handleSongClick=function handleSongClick(song){if(!selectedSongs.some(function(selectedSong){return selectedSong.id===song.id;})){var updatedSelection=[].concat(_toConsumableArray(selectedSongs),[song]);setSelectedSongs(updatedSelection);sessionStorage.setItem('selected_songs',JSON.stringify(selectedSongs));}};var handleRemoveSong=function handleRemoveSong(songId){var updatedSelection=selectedSongs.filter(function(song){return song.id!==songId;});setSelectedSongs(updatedSelection);};var handleLetTuneItClick=function handleLetTuneItClick(){console.log(\"selectedSongs:\",selectedSongs);sessionStorage.setItem('selected_songs',JSON.stringify(selectedSongs));navigate(\"/display\",{state:{selectedSongs:selectedSongs}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"stars\"}),/*#__PURE__*/_jsx(\"div\",{id:\"stars2\"}),/*#__PURE__*/_jsx(\"div\",{id:\"stars3\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"div\",{id:\"home-container\",children:/*#__PURE__*/_jsx(\"img\",{id:\"home\",src:home,alt:\"\"})})}),/*#__PURE__*/_jsx(\"div\",{id:\"title\",children:\"TuneTeller\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"selection\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"selectxt\",children:\"Selection\"}),/*#__PURE__*/_jsx(\"div\",{id:\"songs-display\",children:selectedSongs.map(function(song2){return/*#__PURE__*/_jsxs(\"div\",{id:\"song2\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"music\",src:music,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"song-details\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"song-name2\",children:song2.song}),/*#__PURE__*/_jsx(\"p\",{id:\"artist-name2\",children:song2.singer})]}),/*#__PURE__*/_jsx(\"button\",{id:\"remove\",onClick:function onClick(){return handleRemoveSong(song2.id);},children:\"X\"})]},song2.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"allsongs\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"alltxt\",children:\"Available songs\"}),/*#__PURE__*/_jsx(\"div\",{id:\"songs-container\",children:songData.map(function(tsong){return/*#__PURE__*/_jsxs(\"div\",{id:\"song\",onClick:function onClick(){return handleSongClick(tsong);},children:[/*#__PURE__*/_jsx(\"img\",{id:\"music\",src:music,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"song-details\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"song-name\",children:tsong.song}),/*#__PURE__*/_jsx(\"p\",{id:\"artist-name\",children:tsong.singer})]})]},tsong.id);})})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/display\",children:/*#__PURE__*/_jsx(\"button\",{id:\"launch\",onClick:handleLetTuneItClick,children:\"Let's tune it !!!\"})})]});}export default Select;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Route","Link","useNavigate","home","music","jsx","_jsx","jsxs","_jsxs","Select","fetch","method","headers","body","JSON","stringify","maVariable","then","response","ok","json","Error","data","setFetchedData","setSongData","variable","catch","error","console","_useState","_useState2","_slicedToArray","fetchedData","log","_useState3","_useState4","selectedSongs","setSelectedSongs","navigate","_useState5","_useState6","songData","handleSongClick","song","some","selectedSong","id","updatedSelection","concat","_toConsumableArray","sessionStorage","setItem","handleRemoveSong","songId","filter","handleLetTuneItClick","state","className","children","to","src","alt","map","song2","singer","onClick","tsong"],"sources":["C:/Users/meder/PycharmProjects/Datacamp_Efrei_20235/tuneteller/src/components/select.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport home from \"../img/home_white.png\";\r\nimport music from \"../img/music.png\";\r\nimport \"../styles/home.css\";\r\nimport \"../styles/select.css\";\r\n\r\nfunction Select() {\r\n    useEffect(() => {\r\n        fetch('http://localhost:5000/select', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({maVariable: 'ok'}),\r\n        })\r\n            .then((response) => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                } else {\r\n                    throw new Error(\"Réponse du serveur non valide\");\r\n                }\r\n            })\r\n            .then((data) => {\r\n                setFetchedData(data); // Assurez-vous d'avoir une variable d'état pour stocker les données\r\n                setSongData(data.variable);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Erreur lors de la requête :\", error);\r\n            });\r\n    });\r\n\r\n\r\n\r\n// Assurez-vous d'avoir une variable d'état pour stocker les données\r\nconst [fetchedData, setFetchedData] = useState([]);\r\n\r\n// Vous pouvez maintenant utiliser \"fetchedData\" dans votre composant\r\n\r\n\r\n    console.log(fetchedData.variable);\r\n\r\n    const [selectedSongs, setSelectedSongs] = useState([]);\r\n    const navigate = useNavigate();\r\n    const [songData, setSongData] = useState([]);\r\n\r\n\r\n    const handleSongClick = (song) => {\r\n        if (!selectedSongs.some(selectedSong => selectedSong.id === song.id)) {\r\n            const updatedSelection = [...selectedSongs, song];\r\n            setSelectedSongs(updatedSelection);\r\n            sessionStorage.setItem('selected_songs', JSON.stringify(selectedSongs));\r\n\r\n        }\r\n    };\r\n    const handleRemoveSong = (songId) => {\r\n        const updatedSelection = selectedSongs.filter(song => song.id !== songId);\r\n        setSelectedSongs(updatedSelection);\r\n    };\r\n    const handleLetTuneItClick = () => {\r\n        console.log(\"selectedSongs:\", selectedSongs);\r\n        sessionStorage.setItem('selected_songs', JSON.stringify(selectedSongs));\r\n        navigate(\"/display\", { state: { selectedSongs } });\r\n    };\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div id=\"stars\"></div>\r\n      <div id=\"stars2\"></div>\r\n      <div id=\"stars3\"></div>\r\n      <Link to={\"/\"}>\r\n        <div id=\"home-container\">\r\n            <img id='home' src={home} alt=\"\" />\r\n        </div>\r\n      </Link>\r\n      <div id=\"title\">\r\n        TuneTeller\r\n      </div>\r\n      <div id='wrap'>\r\n        <div id='selection'>\r\n            <div id='selectxt'>Selection</div>\r\n            <div id='songs-display'>\r\n                {selectedSongs.map((song2) =>(\r\n                    <div id='song2' key={song2.id}>\r\n                        <img id=\"music\" src={music} alt=\"\" />\r\n                        <div id=\"song-details\">\r\n                            <p id=\"song-name2\">{song2.song}</p>\r\n                            <p id=\"artist-name2\">{song2.singer}</p>\r\n                        </div>\r\n                        <button id='remove' onClick={() => handleRemoveSong(song2.id)}>\r\n                            X\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n        <div id='allsongs'>\r\n            <div id='alltxt'>Available songs</div>\r\n            <div id='songs-container'>\r\n            {songData.map((tsong) => (\r\n                <div id=\"song\" key={tsong.id} onClick={() => handleSongClick(tsong)}>\r\n                    <img id=\"music\" src={music} alt=\"\" />\r\n                    <div id=\"song-details\">\r\n                        <p id=\"song-name\">{tsong.song}</p>\r\n                        <p id=\"artist-name\">{tsong.singer}</p>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <Link to={\"/display\"}>\r\n        <button id=\"launch\" onClick={handleLetTuneItClick}>Let's tune it !!!</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Select;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}